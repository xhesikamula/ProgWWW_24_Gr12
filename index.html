<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doughlicious Creations</title>
    <link rel="stylesheet" href="./assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://www.flaticon.com/free-icons/chef">
    <script type="module" src="./modules/App.js"></script>
    <style>
        #auth-links {
    display: flex; 
    gap: 20px; 
}

#dashboard-links {
    display: none; 
    gap: 20px;
}

    </style>

</head>
<body>
    <header class="h-light" >
        <div class="container">
            <input type="checkbox"/>
            <img src="./assets/img/pastrylogo.png" alt="Doughlicious Creations" class="header-image" style="margin-top: 3px;"/>
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="menu.html">Menu</a></li>
            
                <li><a href="#reasons">Why us?</a></li>
                <li><a href="#contact">Contact</a><i class="fa-solid fa-angle-down"></i>
                    <ul class="w-25">
                        <li><a href="https://www.whatsapp.com/" target="_blank">Whatsapp</a></li>
                        <li><a href="https://www.facebook.com/" target="_blank">Facebook</a></li>
                        <li><a href="https://www.instagram.com/" target="_blank">Instagram</a></li>
                    </ul>
                    </li>
                    <li id="auth-links">
                        <a href="register.html" id="register-link" >Register</a>
                        <a href="login.html" id="login-link">Login</a>
                    </li>
                    <li id="dashboard-links" style="display: none;">
                        <a href="dashboard.html">Dashboard</a>
                        <a href="#" id="logout-link"><i class="fa-solid fa-right-from-bracket"></i></a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    
    <main class="bg-light">
        <div class="container">
            <div class="intro"> 
                <h3>EVERY BATCH FROM SCRATCH</h3>
                <p>
                    All of our products are made from scratch using <span>family recipes </span>with only the highest quality ingredients.</p>
                <p>
                    We bake and sell <span>fresh daily </span>to ensure only the best products are sold to our costumers.
                </p>
            
                <div class="link-rating">
                    <a href="about.html" class="btn">Read more</a>
                </div>
            </div>
        </div>
    </main>

    <section id="menu">
        <div class="container">
            <button id="scroll-left" class="scroll-button">‚Üê</button>
            <div class="items">
                <div class="item">
                    <img src="./assets/img/item1.jpeg" alt="Cakes" />
                    <h2>Cakes</h2>
                    <p>From Classic to Creativeüç∞</p>
                </div>
                <div class="item">
                    <img src="./assets/img/item2.jpeg" alt="Cupcakes" />
                    <h2>Cupcakes</h2>
                    <p>Irresistible Cupcake CreationsüßÅ</p>
                </div>
                <div class="item">
                    <img src="./assets/img/item3.jpeg" alt="Donuts" />
                    <h2>Donuts</h2>
                    <p>Delicious Donuts to Savorüç©</p>
                </div>
                <div class="item">
                    <img src="./assets/img/desserts.webp" alt="Desserts" />
                    <h2>Desserts</h2>
                    <p>Sweet Treats Await Youüç∞</p>
                </div>
                <div class="item">
                    <img src="./assets/img/pastries.webp" alt="Pastries" />
                    <h2>Pastries</h2>
                    <p>Flaky and Delicious Pastriesü•ê</p>
                </div>
            </div>
            <button id="scroll-right" class="scroll-button">‚Üí</button>
        </div>
    </section>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
                    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
                    const authLinks = document.getElementById('auth-links');
                    const dashboardLinks = document.getElementById('dashboard-links');
        
                    if (isLoggedIn) {
                        authLinks.style.display = 'none';
                        dashboardLinks.style.display = 'flex';
                    } else {
                        authLinks.style.display = 'flex';
                        dashboardLinks.style.display = 'none';
                    }
        
                    document.getElementById('logout-link').addEventListener('click', () => {
                        localStorage.removeItem('isLoggedIn');
                        localStorage.removeItem('user');
                        window.location.href = 'index.html'; // Redirect to home page on logout
                    });
                });
        
                const scrollLeftButton = document.getElementById('scroll-left');
                const scrollRightButton = document.getElementById('scroll-right');
                const itemsContainer = document.querySelector('.items');
            
                scrollLeftButton.addEventListener('click', () => {
                    itemsContainer.scrollBy({
                        top: 0,
                        left: -250, // Adjusted scroll offset for item width
                        behavior: 'smooth'
                    });
                });
            
                scrollRightButton.addEventListener('click', () => {
                    itemsContainer.scrollBy({
                        top: 0,
                        left: 250, // Adjusted scroll offset for item width
                        behavior: 'smooth'
                    });
                });
        
                document.addEventListener("DOMContentLoaded", function() {
            const numbers = document.querySelectorAll('.number strong');
            
            const animateValue = (element, start, end, duration) => {
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    element.innerText = Math.floor(progress * (end - start) + start);
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            };
        
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        numbers.forEach(number => {
                            const endValue = parseInt(number.textContent.replace(/,/g, ''));
                            animateValue(number, 0, endValue, 2000);
                        });
                        observer.unobserve(entry.target); // Stop observing once animated
                    }
                });
            }, { threshold: 0.5 }); // Trigger when 50% of the section is visible
        
            observer.observe(document.getElementById('stats'));
        });
            </script>    
    
    <section id="products">
        <div class="container">
            <hgroup>
                <h1>Today's Specials</h1> 
                <h6>Try our most popular ones and taste the difference!</h6>
            </hgroup>
            <div class="todays">
                <div class="t_product">
                    <div class="circle">
                        <img src="./assets/img/cake1.jpg" alt="Strawberry Dream Delight">
                    </div>
                    <h3>Strawberry Dream Delight</h3>
                    <p>Make the most of strawberry season with our strawberry cake, with light sponge, jam, and soft cheese icing. It makes a fabulous centrepiece dessert.</p>
                    <a href="#" class="btn">Order & Details</a>
                </div> <!-- t_product -->
            
                <div class="t_product">
                    <div class="circle">
                        <img src="./assets/img/cake2.jpg" alt="Choco Bliss">
                    </div>
                    <h3>Choco Bliss</h3>
                    <p>Master the chocolate cake with an airy, light sponge and rich buttercream filling. It's simple enough for an afternoon tea but special enough for a party too.</p>
                    <a href="#" class="btn">Order & Details</a>
                </div> <!-- t_product -->
            
                <div class="t_product">
                    <div class="circle">
                        <img src="./assets/img/cake3.jpeg" alt="Oreo Cookie Cupcakes">
                    </div>
                    <h3>Oreo Cookie Cupcakes</h3>
                    <p>These cupcakes combine decadently rich chocolate cake with creamy vanilla frosting speckled with crushed Oreo cookie pieces.</p>
                    <a href="#" class="btn">Order & Details</a>
                </div> <!-- t_product -->
            </div> <!-- todays -->
            

  <!-- This Week's Specials -->
<hgroup>
    <h1>This Week's Specials</h1> 
    <h6>Try our most popular ones and taste the difference!</h6>
</hgroup>
<div class="weekly">
    <div class="w_product">
        <div class="circle">
            <img src="./assets/img/cake1.jpg" alt="Strawberry Dream Delight">
        </div>
        <h3>Strawberry Dream Delight</h3>
        <p>Make the most of strawberry season with our strawberry cake, with light sponge, jam, and soft cheese icing.</p>
        <a href="#" class="btn">Order & Details</a>
    </div>

    <div class="w_product">
        <div class="circle">
            <img src="./assets/img/cake2.jpg" alt="Choco Bliss">
        </div>
        <h3>Choco Bliss</h3>
        <p>Master the chocolate cake with an airy, light sponge and rich buttercream filling. Perfect for your tea.</p>
        <a href="#" class="btn">Order & Details</a>
    </div>

    <div class="w_product">
        <div class="circle">
            <img src="./assets/img/cake3.jpeg" alt="Oreo Cookie Cupcakes">
        </div>
        <h3>Oreo Cookie Cupcakes</h3>
        <p>Rich chocolate cupcakes with creamy vanilla frosting and Oreo cookie pieces.</p>
        <a href="#" class="btn">Order & Details</a>
    </div>
</div>

<section class="holidays-specials">
    <hgroup>
        <h1>Holiday's Specials </h1>
        <h6>Celebrate the season with our festive treats!</h6>
        <section id="slider" class="h-[650px] overflow-hidden bg-slate-50">
            <img id="slider-image" src="./assets/img/slider1.webp" alt="First Slider" />
        </section>
        
</section>
</section>   

<script>
    window.onload = async () => {
        try {
            // Fetch data from the API
            const response = await fetch('https://671fc5b3e7a5792f052f7efc.mockapi.io/Pastry');
            const cakes = await response.json();

            // Shuffle the cakes array to randomize the selection
            const shuffleArray = (array) => array.sort(() => Math.random() - 0.5);

            // Pick 3 random cakes for Today's Specials
            const todaysSpecials = shuffleArray([...cakes]).slice(0, 3);

            // Pick 3 random cakes for This Week's Specials
            const weeksSpecials = shuffleArray([...cakes]).slice(0, 3);

            // Update Today's Specials
            const todaysContainer = document.querySelector('.todays');
            todaysContainer.innerHTML = ''; // Clear the existing content

            todaysSpecials.forEach((cake) => {
                const product = document.createElement('div');
                product.classList.add('t_product');
                product.innerHTML = `
                    <div class="circle">
                        <img src="${cake.item_image}" alt="${cake.item_name}">
                    </div>
                    <h3>${cake.item_name}</h3>
                    <p>${cake.description}</p>
                    <a href="#" class="btn">Order & Details</a>
                `;
                todaysContainer.appendChild(product);
            });

            // Update This Week's Specials
            const weeklyContainer = document.querySelector('.weekly');
            weeklyContainer.innerHTML = ''; // Clear the existing content

            weeksSpecials.forEach((cake) => {
                const product = document.createElement('div');
                product.classList.add('w_product');
                product.innerHTML = `
                    <div class="circle">
                        <img src="${cake.item_image}" alt="${cake.item_name}">
                    </div>
                    <h3>${cake.item_name}</h3>
                    <p>${cake.description}</p>
                    <a href="#" class="btn">Order & Details</a>
                `;
                weeklyContainer.appendChild(product);
            });
        } catch (error) {
            console.error('Error fetching cakes data:', error);
        }
    };
</script>


    <section class="fabulous-section">
        <div class="container">
            <h2 class="section-title">Why Our Bakery Stands Out</h2>
            <p class="section-description">
                We bake with passion, using only the finest ingredients. Our journey of creating delightful treats is built on the love for authenticity, creativity, and a touch of magic in every recipe.
            </p>
            <div class="cards-container">
                <div class="card">
                    <h3 class="card-title">Farm-Fresh Ingredients</h3>
                    <p class="card-description">Sourced locally, ensuring taste and quality you can trust in every bite.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Handcrafted Daily</h3>
                    <p class="card-description">Every item is made fresh, bringing joy straight from our oven to your table.</p>
                </div>
                <div class="card">
                    <h3 class="card-title">Unforgettable Flavors</h3>
                    <p class="card-description">From classic favorites to unique innovations, our flavors are crafted to delight.</p>
                </div>
            </div>
        </div>
    </section>
